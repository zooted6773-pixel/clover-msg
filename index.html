<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í´ë¡œë²„ í•™ì› ë¬¸ì ìƒì„±ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Noto+Sans+KR:wght@400;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', 'Apple SD Gothic Neo', sans-serif;
            background-color: #f4f6f8;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .main-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 650px;
            overflow: hidden;
            background-color: #fff;
        }
        
        /* íƒ­ ìŠ¤íƒ€ì¼ */
        .tabs { display: flex; background-color: #eee; border-bottom: 1px solid #ddd; }
        .tab-button {
            flex: 1; padding: 15px 5px; border: none; background: none;
            cursor: pointer; font-size: 14px; font-weight: bold; color: #666;
            transition: 0.2s;
        }
        .tab-button:hover { background-color: #e0e0e0; }
        .tab-button.active {
            background-color: white; color: #00994d;
            border-top: 3px solid #00994d;
        }

        .content { display: none; padding: 20px; }
        .content.active { display: block; }

        /* [ì‹ ê·œë“±ë¡ íƒ­] ì „ìš© ìŠ¤íƒ€ì¼ */
        .reg-group { margin-bottom: 1rem; }
        .reg-row { display: flex; gap: 10px; }
        .reg-row .reg-group { flex: 1; }
        .reg-label { display: block; margin-bottom: 0.5rem; font-weight: bold; color: #555; font-size: 0.9rem;}
        .reg-input, .reg-select {
            width: 100%; padding: 10px;
            border: 1px solid #ddd; border-radius: 6px;
            font-size: 15px; box-sizing: border-box;
        }
        .reg-price-info {
            background: #fafafa; padding: 15px; border-radius: 6px;
            border: 1px solid #eee; margin-bottom: 15px;
        }
        .reg-btn {
            width: 100%; padding: 12px; border: none; border-radius: 6px;
            font-size: 16px; cursor: pointer; font-weight: bold; color: white;
            background-color: #00994d; margin-top: 10px;
        }
        .reg-btn:hover { background-color: #007a3d; }
        .reg-result {
            width: 100%; height: 250px; resize: none;
            margin-top: 15px; padding: 10px;
            background-color: #f9f9f9; border: 1px solid #eee;
            font-family: monospace; line-height: 1.4; font-size: 14px;
        }
        
        /* [ê²°ì„ë³´ê°•/ì „ë‚ ì•ˆë‚´] ìŠ¤íƒ€ì¼ */
        .hidden-field { display: none; }
        .calendar-inner-container { max-width: 280px; margin: 0 auto; }
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; }
        .calendar-day { 
            width: 34px; height: 34px; margin: 0 auto;
            display: flex; align-items: center; justify-content: center; 
            cursor: pointer; border-radius: 0.5rem; font-size: 0.8rem; 
            transition: all 0.2s; position: relative; 
        }
        .calendar-day:hover { background-color: #f1f5f9; }
        .calendar-day.selected { background-color: #4f46e5; color: white; font-weight: bold; }
        .calendar-day.today { border: 1px solid #4f46e5; }
        .calendar-day.other-month { color: #cbd5e1; }
        .calendar-day.fri { color: #4f46e5; font-weight: 600; }

        /* ê³¼ëª© ì„ íƒ í† ê¸€ */
        .subject-toggle {
            display: flex; gap: 10px; margin-bottom: 20px; background: #f0fdf4;
            padding: 10px; border-radius: 8px; border: 1px solid #ccebd6;
        }
        .subject-toggle label {
            flex: 1; text-align: center; cursor: pointer; margin: 0;
            padding: 8px; border-radius: 6px; background: white; border: 1px solid #ddd;
            color: #555;
        }
        .subject-toggle input[type="radio"] { display: none; }
        .subject-toggle input[type="radio"]:checked + label {
            background-color: #00994d; color: white; border-color: #00994d;
        }
    </style>
</head>
<body>

<div class="main-container">
    <div class="tabs">
        <button class="tab-button active" onclick="openTab(event, 'tab1')">ì‹ ê·œë“±ë¡</button>
        <button class="tab-button" onclick="openTab(event, 'tab2')">ê²°ì„ë³´ê°•</button>
        <button class="tab-button" onclick="openTab(event, 'tab3')">ë°©í•™íŠ¹ê°•</button>
        <button class="tab-button" onclick="openTab(event, 'tab4')">ì „ë‚ ì•ˆë‚´</button>
    </div>

    <div id="tab1" class="content active">
        <h3 class="text-lg font-bold text-gray-800 border-b-2 border-green-600 pb-2 mb-4 inline-block">ğŸŒ± ì‹ ê·œ ë“±ë¡ ì•ˆë‚´</h3>
        
        <div class="subject-toggle">
            <input type="radio" id="subSci" name="regSubject" value="science" checked onchange="toggleRegSubject()">
            <label for="subSci">ğŸ§ª ê³¼í•™</label>
            <input type="radio" id="subMath" name="regSubject" value="math" onchange="toggleRegSubject()">
            <label for="subMath">ğŸ“ ìˆ˜í•™</label>
        </div>

        <div class="reg-row">
            <div class="reg-group">
                <label class="reg-label">í•™ìƒ í•™ë…„</label>
                <select id="regGrade" class="reg-select">
                    <option value="">ì„ íƒ</option>
                    <option value="ì´ˆ2">ì´ˆ2</option><option value="ì´ˆ3">ì´ˆ3</option><option value="ì´ˆ4">ì´ˆ4</option><option value="ì´ˆ5">ì´ˆ5</option><option value="ì´ˆ6">ì´ˆ6</option>
                    <option value="ì¤‘1">ì¤‘1</option><option value="ì¤‘2">ì¤‘2</option><option value="ì¤‘3">ì¤‘3</option>
                </select>
            </div>
            <div class="reg-group" id="scienceClassGroup">
                <label class="reg-label">ê³¼í•™ ë°˜ ì„ íƒ</label>
                <select id="regClassSci" class="reg-select" onchange="updateScienceInfo()">
                    <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                    <optgroup label="ê³¼í•™ ì •ê·œë°˜"><option value="Beginning Class">Beginning Class</option><option value="Middle Class">Middle Class</option><option value="High Class">High Class</option><option value="Master Class">Master Class</option></optgroup>
                    <optgroup label="ì‹¬í™”/ë‚´ì‹ /í•˜ì´íƒ‘"><option value="í•˜ì´íƒ‘ Class">í•˜ì´íƒ‘ Class</option><option value="í•˜ì´íƒ‘ ì‹¬í™”">í•˜ì´íƒ‘ ì‹¬í™”</option><option value="ì¤‘1 ì‹¬í™”">ì¤‘1 ì‹¬í™”</option><option value="ì¤‘2 ë‚´ì‹ ">ì¤‘2 ë‚´ì‹ </option><option value="ì¤‘3 ë‚´ì‹ ">ì¤‘3 ë‚´ì‹ </option></optgroup>
                    <optgroup label="ê³ ë“± ê³¼ì •"><option value="í†µí•©ê³¼í•™">í†µí•©ê³¼í•™</option><option value="ë¬¼ë¦¬1">ë¬¼ë¦¬1</option><option value="í™”í•™1">í™”í•™1</option></optgroup>
                </select>
            </div>
            <div class="reg-group" id="mathDayGroup" style="display:none;">
                <label class="reg-label">ìˆ˜í•™ ìš”ì¼</label>
                <select id="regMathDays" class="reg-select" onchange="updateMathOptions()">
                    <option value="mwf">ì›”ìˆ˜ê¸ˆ (12íšŒ)</option><option value="tt">í™”ëª© (8íšŒ)</option>
                </select>
            </div>
        </div>

        <div class="reg-group" id="scienceTimeGroup">
            <label class="reg-label">ìˆ˜ì—… ì‹œê°„ (ê³¼í•™)</label>
            <select id="regScheduleSci" class="reg-select"><option value="">ë°˜ì„ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”</option></select>
            <input type="text" id="regScheduleSciCustom" class="reg-input" placeholder="ì§ì ‘ ì…ë ¥" style="margin-top:5px; display:none;">
        </div>

        <div id="mathTimeGroup" style="display:none;">
            <div class="reg-row">
                <div class="reg-group"><label class="reg-label">ì‹œì‘ ì‹œê°„</label><select id="regMathStartTime" class="reg-select"></select></div>
                <div class="reg-group"><label class="reg-label">ìˆ˜ì—… ê¸¸ì´</label><select id="regMathDuration" class="reg-select"></select></div>
            </div>
        </div>

        <div class="reg-row">
            <div class="reg-group"><label class="reg-label">ì²« ìˆ˜ì—…ì¼</label><input type="text" id="regFirstDate" class="reg-input" placeholder="ì˜ˆ: 5ì›” 9ì¼(í™”)"></div>
            <div class="reg-group"><label class="reg-label">ì²« ìˆ˜ì—… ì‹œê°„</label><input type="text" id="regFirstTime" class="reg-input" placeholder="ì˜ˆ: 5ì‹œ"></div>
        </div>

        <div class="reg-price-info">
            <div class="reg-row">
                <div class="reg-group"><label class="reg-label">ê²°ì œ êµ¬ë¶„</label><input type="text" id="paymentTerm" class="reg-input" placeholder="ì˜ˆ: 4ë¶„ê¸°, 5ì›”ë¶„"></div>
                <div class="reg-group" id="monthInputGroup"><label class="reg-label">ê°œì›” ìˆ˜</label><input type="number" id="payMonths" class="reg-input" value="1" min="1"></div>
            </div>
            <div class="reg-row">
                <div class="reg-group">
                    <label class="reg-label">ì›” ìˆ˜ì—…ë£Œ</label>
                    <input type="text" id="regTuition" class="reg-input" placeholder="ê¸ˆì•¡" style="display:block;">
                    <select id="regMathTuition" class="reg-select" style="display:none;" onchange="calcDailyMath()">
                        <option value="300000">300,000ì›</option><option value="380000">380,000ì›</option><option value="420000">420,000ì›</option><option value="480000">480,000ì›</option><option value="525000">525,000ì›</option>
                    </select>
                </div>
                <div class="reg-group"><label class="reg-label">êµì¬ë¹„</label><input type="text" id="regBookFee" class="reg-input" placeholder="0"></div>
            </div>
            <div id="mathDailyOption" style="display:none; margin-top:10px;">
                <label style="display:flex; align-items:center; cursor:pointer;"><input type="checkbox" id="checkDailyCalc" onchange="toggleDailyCalc()"> <span style="margin-left:5px; font-weight:bold; font-size:14px;">ğŸ“… ì¤‘ê°„ ë“±ë¡ (íšŸìˆ˜ë³„ ê³„ì‚°)</span></label>
                <div id="dailyCalcBox" style="display:none; background:#fff9c4; padding:10px; border-radius:6px; margin-top:5px; border:1px solid #fbc02d;">
                    <div class="reg-row">
                        <div class="reg-group"><label class="reg-label">ê¸°ì¤€ íšŸìˆ˜</label><input type="text" id="dailyTotalCount" class="reg-input" value="12" readonly style="background:#eee;"></div>
                        <div class="reg-group"><label class="reg-label">ë“±ë¡ íšŸìˆ˜</label><input type="number" id="dailyInputCount" class="reg-input" placeholder="ì˜ˆ: 7" oninput="calcDailyMath()"></div>
                    </div>
                    <div style="text-align:right; font-weight:bold; color:#d32f2f; margin-top:5px;">ê³„ì‚°ì•¡: <span id="dailyResultPrice">0</span>ì›</div>
                </div>
            </div>
        </div>
        <button class="reg-btn" onclick="generateRegMsg()">ë¬¸ì ìƒì„±í•˜ê¸°</button>
        <textarea id="result1" class="reg-result" readonly></textarea>
    </div>

    <div id="tab2" class="content">
        <div class="bg-indigo-900 p-4 text-white text-center rounded-t-lg -mx-5 -mt-5 mb-5">
            <h1 class="text-xl font-bold flex justify-center items-center gap-2"><span>ğŸ§ª</span> í´ë¡œë²„ í•™ì› ê²°ì„ ì•Œë¦¼</h1>
        </div>
        <div class="flex flex-wrap gap-2 mb-6 justify-center">
            <label class="cursor-pointer"><input type="radio" name="absSubject" value="science_elem" class="peer hidden" checked onchange="toggleAbsSubject()"><div class="px-4 py-2 rounded-xl border-2 border-slate-200 text-slate-500 peer-checked:border-blue-600 peer-checked:bg-blue-50 peer-checked:text-blue-600 font-bold transition-all text-sm">ê³¼í•™(ì´ˆë“±)</div></label>
            <label class="cursor-pointer"><input type="radio" name="absSubject" value="science_mid" class="peer hidden" onchange="toggleAbsSubject()"><div class="px-4 py-2 rounded-xl border-2 border-slate-200 text-slate-500 peer-checked:border-indigo-600 peer-checked:bg-indigo-50 peer-checked:text-indigo-600 font-bold transition-all text-sm">ê³¼í•™(ì¤‘ë“±)</div></label>
            <label class="cursor-pointer"><input type="radio" name="absSubject" value="math" class="peer hidden" onchange="toggleAbsSubject()"><div class="px-4 py-2 rounded-xl border-2 border-slate-200 text-slate-500 peer-checked:border-red-600 peer-checked:bg-red-50 peer-checked:text-red-600 font-bold transition-all text-sm">ìˆ˜í•™</div></label>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div class="space-y-1"><label class="text-xs font-bold text-slate-500 ml-1">ì´ë¦„</label><input type="text" id="absName" placeholder="í•™ìƒ ì´ë¦„" class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-400 outline-none text-sm"></div>
            <div class="space-y-1"><label class="text-xs font-bold text-slate-500 ml-1">í•™ë…„</label><select id="absGrade" class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-400 outline-none text-sm"></select></div>
            
            <div id="sci-elem-box" class="space-y-1 md:col-span-2">
                <label class="text-xs font-bold text-slate-500 ml-1">ìˆ˜ì—…ë°˜ (ê³¼í•™ ì´ˆë“±)</label>
                <select id="sciElemClass" class="w-full px-4 py-2.5 bg-blue-50 border border-blue-100 rounded-lg outline-none text-sm">
                    <option value="">ìˆ˜ì—…ë°˜ ì„ íƒ</option>
                    <optgroup label="Beginning"><option value="Beginning Class (ìˆ˜ìš”ì¼ 3:00~4:30)">Beginning (ìˆ˜ 3:00~4:30)</option><option value="Beginning Class (ëª©ìš”ì¼ 3:00~4:30)">Beginning (ëª© 3:00~4:30)</option></optgroup>
                    <optgroup label="Middle Class"><option value="Middle Class (ìˆ˜ìš”ì¼ 5:00~6:50)">Middle (ìˆ˜ 5:00~6:50)</option><option value="Middle Class (ê¸ˆìš”ì¼ 5:00~6:50)">Middle (ê¸ˆ 5:00~6:50)</option></optgroup>
                    <optgroup label="High Class"><option value="High Class (ê¸ˆìš”ì¼ 3:00~4:50)">High (ê¸ˆ 3:00~4:50)</option><option value="High Class (í† ìš”ì¼ 1:00~2:50)">High (í†  1:00~2:50)</option></optgroup>
                    <optgroup label="Master Class"><option value="Master Class (ê¸ˆìš”ì¼ 5:00~7:20)">Master (ê¸ˆ 5:00~7:20)</option><option value="Master Class (ê¸ˆìš”ì¼ 7:40~10:00)">Master (ê¸ˆ 7:40~10:00)</option><option value="Master Class (í† ìš”ì¼ 10:00~12:20)">Master (í†  10:00~12:20)</option></optgroup>
                </select>
            </div>
            
            <div id="sci-mid-box" class="space-y-1 md:col-span-2 hidden-field">
                <label class="text-xs font-bold text-slate-500 ml-1">ìˆ˜ì—…ë°˜ (ê³¼í•™ ì¤‘ë“±)</label>
                <select id="sciMidClass" class="w-full px-4 py-2.5 bg-indigo-50 border border-indigo-100 rounded-lg outline-none text-sm">
                    <option value="">ìˆ˜ì—…ë°˜ ì„ íƒ</option>
                    <optgroup label="í•˜ì´íƒ‘">
                        <option value="í•˜ì´íƒ‘ (ì›” 5:00~7:20)">í•˜ì´íƒ‘ (ì›” 5:00~7:20)</option>
                        <option value="í•˜ì´íƒ‘ (ëª© 7:40~10:00)">í•˜ì´íƒ‘ (ëª© 7:40~10:00)</option>
                        <option value="í•˜ì´íƒ‘ (í†  10:00~12:20)">í•˜ì´íƒ‘ (í†  10:00~12:20)</option>
                    </optgroup>
                    <optgroup label="í•˜ì´íƒ‘ ì‹¬í™”">
                        <option value="í•˜ì´íƒ‘ ì‹¬í™” (ìˆ˜ 5:00~7:20)">í•˜ì´íƒ‘ ì‹¬í™” (ìˆ˜ 5:00~7:20)</option>
                        <option value="í•˜ì´íƒ‘ ì‹¬í™” (ê¸ˆ 7:40~10:00)">í•˜ì´íƒ‘ ì‹¬í™” (ê¸ˆ 7:40~10:00)</option>
                    </optgroup>
                    <optgroup label="ì¤‘ë“± ì‹¬í™”/ë‚´ì‹ ">
                        <option value="ì¤‘1 ì‹¬í™” (ëª© 5:00~7:20)">ì¤‘1 ì‹¬í™” (ëª© 5:00~7:20)</option>
                        <option value="ì¤‘1 ì‹¬í™” (í†  1:00~3:20)">ì¤‘1 ì‹¬í™” (í†  1:00~3:20)</option>
                        <option value="ì¤‘2 ë‚´ì‹  (ëª© 7:40~10:00)">ì¤‘2 ë‚´ì‹  (ëª© 7:40~10:00)</option>
                        <option value="ì¤‘2 ë‚´ì‹  (í†  10:00~12:20)">ì¤‘2 ë‚´ì‹  (í†  10:00~12:20)</option>
                        <option value="ì¤‘3 ë‚´ì‹  (í†  16:00~18:20)">ì¤‘3 ë‚´ì‹  (í†  4:00~6:20)</option>
                    </optgroup>
                </select>
            </div>

            <div id="math-class-box" class="space-y-1 md:col-span-2 hidden-field"><select id="mathSchedule" class="w-full px-4 py-2.5 bg-red-50 border border-red-100 rounded-lg outline-none text-sm"><option value="">ì„ íƒ</option><option value="ì›”ìˆ˜ê¸ˆ 3ì‹œ">ì›”ìˆ˜ê¸ˆ 3ì‹œ</option><option value="ì›”ìˆ˜ê¸ˆ 5ì‹œ">ì›”ìˆ˜ê¸ˆ 5ì‹œ</option><option value="ì›”ìˆ˜ê¸ˆ 7ì‹œ 40ë¶„">ì›”ìˆ˜ê¸ˆ 7ì‹œ 40ë¶„</option><option value="í™”ëª© 3ì‹œ">í™”ëª© 3ì‹œ</option><option value="í™”ëª© 6ì‹œ">í™”ëª© 6ì‹œ</option><option value="í† ìš”ì¼ 10ì‹œ">í† ìš”ì¼ 10ì‹œ</option><option value="í† ìš”ì¼ 2ì‹œ">í† ìš”ì¼ 2ì‹œ</option></select></div>
            <div class="md:col-span-2" id="sci-teacher-box"><select id="sciTeacher" class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg outline-none text-sm"><option value="ì˜¤ìŠ¹ì¤€">ì˜¤ìŠ¹ì¤€ ì„ ìƒë‹˜</option><option value="ì„œì€í˜œ">ì„œì€í˜œ ì„ ìƒë‹˜</option><option value="ìœ ì§€ì—°">ìœ ì§€ì—° ì„ ìƒë‹˜</option><option value="ê¹€ë°˜ì„">ê¹€ë°˜ì„ ì„ ìƒë‹˜</option></select></div>
            <div class="md:col-span-2 hidden-field" id="math-teacher-box"><select id="mathTeacher" class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg outline-none text-sm"><option value="í•œì¸íƒ">í•œì¸íƒ ì„ ìƒë‹˜</option></select></div>
            <div class="md:col-span-2 space-y-2"><div class="bg-slate-50 border border-slate-200 rounded-xl p-4"><div class="calendar-inner-container"><div class="flex justify-between items-center mb-3 px-1"><button onclick="changeMonth(-1)" class="text-xs w-8 h-8 rounded-full">â—€</button><h3 id="calendarTitle" class="font-bold text-sm">2026ë…„ 1ì›”</h3><button onclick="changeMonth(1)" class="text-xs w-8 h-8 rounded-full">â–¶</button></div><div class="calendar-grid" id="calendarDays"></div></div></div></div>
            <div class="md:col-span-2 space-y-1"><div id="selectedDatesDisplay" class="p-3 bg-slate-100 border border-slate-200 rounded-lg text-xs min-h-[44px] flex flex-wrap gap-2"></div></div>
            <div class="md:col-span-2 space-y-1"><div class="grid grid-cols-2 gap-3"><select id="reason" class="px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none"><option value="ê°œì¸ì‚¬ìœ ">ê°œì¸ì‚¬ìœ </option><option value="ë³‘ê²°">ë³‘ê²°</option><option value="í•™êµ í–‰ì‚¬">í•™êµ í–‰ì‚¬</option><option value="ê°€ì¡± ì—¬í–‰">ê°€ì¡± ì—¬í–‰</option></select><select id="note" class="px-4 py-2.5 bg-amber-50 border border-amber-100 rounded-lg text-sm outline-none"><option value="ë³´ê°• ì—°ë½ ë¶€íƒë“œë¦½ë‹ˆë‹¤.">ë³´ê°• ì—°ë½ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</option></select></div></div>
        </div>
        <button onclick="generateAbsenceMsg()" class="w-full py-4 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-lg transition-all mb-6 text-sm">ê²°ì„ ì–‘ì‹ ìƒì„±í•˜ê¸°</button>
        <div class="mt-4 border-t pt-6"><div id="output" class="p-5 bg-slate-50 border border-slate-200 rounded-xl whitespace-pre-wrap text-slate-800 text-sm font-medium leading-relaxed min-h-[120px]"></div></div>
    </div>

    <div id="tab3" class="content"><h3>ğŸŒŸ ë°©í•™ íŠ¹ê°• ì•ˆë‚´</h3><p>ì¤€ë¹„ì¤‘ì…ë‹ˆë‹¤.</p></div>

    <div id="tab4" class="content">
        <h3 class="text-lg font-bold text-gray-800 border-b-2 border-orange-500 pb-2 mb-4 inline-block">â° ìˆ˜ì—… ì „ë‚  ì•ˆë‚´</h3>

        <div class="subject-toggle">
            <input type="radio" id="preSci" name="preSubject" value="ê³¼í•™" checked onchange="updatePreTimeOptions()">
            <label for="preSci">ğŸ§ª ê³¼í•™</label>
            <input type="radio" id="preMath" name="preSubject" value="ìˆ˜í•™" onchange="updatePreTimeOptions()">
            <label for="preMath">ğŸ“ ìˆ˜í•™</label>
        </div>

        <div class="reg-group">
            <label class="reg-label">ë‚ ì§œ ì„ íƒ (ìš”ì¼ë³„ ì‹œê°„ ìë™ ë³€ê²½)</label>
            <input type="date" id="preDate" class="reg-input" onchange="updatePreTimeOptions()">
        </div>

        <div class="reg-row">
            <div class="reg-group">
                <label class="reg-label">ìˆ˜ì—… ì‹œê°„</label>
                <select id="preTime" class="reg-select">
                    </select>
            </div>
            <div class="reg-group">
                <label class="reg-label">êµì‹¤ (2ì¸µ)</label>
                <select id="preRoom" class="reg-select">
                    <option value="1ë²ˆ êµì‹¤">1ë²ˆ êµì‹¤</option>
                    <option value="2ë²ˆ êµì‹¤">2ë²ˆ êµì‹¤</option>
                    <option value="3ë²ˆ êµì‹¤">3ë²ˆ êµì‹¤</option>
                    <option value="4ë²ˆ êµì‹¤">4ë²ˆ êµì‹¤</option>
                    <option value="5ë²ˆ êµì‹¤">5ë²ˆ êµì‹¤</option>
                    <option value="6ë²ˆ êµì‹¤">6ë²ˆ êµì‹¤</option>
                    <option value="7ë²ˆ êµì‹¤">7ë²ˆ êµì‹¤</option>
                    <option value="8ë²ˆ êµì‹¤">8ë²ˆ êµì‹¤</option>
                    <option value="9ë²ˆ êµì‹¤">9ë²ˆ êµì‹¤</option>
                    <option value="10ë²ˆ êµì‹¤">10ë²ˆ êµì‹¤</option>
                </select>
            </div>
        </div>

        <button class="reg-btn" style="background-color: #f97316;" onclick="generatePreMsg()">ë¬¸ì ìƒì„±í•˜ê¸°</button>
        <textarea id="result4" class="reg-result" readonly></textarea>
        <button onclick="copyPreMsg()" class="w-full mt-2 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-600 hover:bg-slate-50 transition-all text-sm">ğŸ“‹ ë³µì‚¬í•˜ê¸°</button>
    </div>
</div>

<script>
    /* ================= TAB 1 & COMMON ================= */
    const sciClassData = {
        "Beginning Class": { price: 170000, book: 20000, times: ["ìˆ˜ìš”ì¼ 3:00~4:30", "ëª©ìš”ì¼ 3:00~4:30"] },
        "Middle Class": { price: 180000, book: 20000, times: ["ìˆ˜ìš”ì¼ 5:00~6:50", "ê¸ˆìš”ì¼ 5:00~6:50"] },
        "High Class": { price: 180000, book: 20000, times: ["ê¸ˆìš”ì¼ 3:00~4:50", "í† ìš”ì¼ 1:00~2:50"] },
        "Master Class": { price: 200000, book: 20000, times: ["ê¸ˆìš”ì¼ 5:00~7:20 / 7:40~10:00", "í† ìš”ì¼ 10:00~12:20"] },
        "í•˜ì´íƒ‘ Class": { price: 250000, book: 0, times: ["ì›” 5:00~7:20", "ëª© 7:40~10:00", "í†  10:00~12:20"] },
        "í•˜ì´íƒ‘ ì‹¬í™”": { price: 250000, book: 0, times: ["ìˆ˜ 5:00~7:20", "ê¸ˆ 7:40~10:00"] },
        "ì¤‘1 ì‹¬í™”": { price: 250000, book: 0, times: ["ëª© 5:00~7:20", "í†  1:00~3:20"] },
        "ì¤‘2 ë‚´ì‹ ": { price: 250000, book: 0, times: ["ëª© 7:40~10:00", "í†  10:00~12:20"] },
        "ì¤‘3 ë‚´ì‹ ": { price: 250000, book: 0, times: ["í†  16:00~18:20"] },
        "í†µí•©ê³¼í•™": { price: 280000, book: 0, times: ["ì‹œê°„í‘œ ë¯¸ì •"] },
        "ë¬¼ë¦¬1": { price: 280000, book: 0, times: ["ì‹œê°„í‘œ ë¯¸ì •"] },
        "í™”í•™1": { price: 280000, book: 0, times: ["ì‹œê°„í‘œ ë¯¸ì •"] }
    };

    function toggleRegSubject() {
        const isMath = document.getElementById("subMath").checked;
        document.getElementById("scienceClassGroup").style.display = isMath ? 'none' : 'block';
        document.getElementById("mathDayGroup").style.display = isMath ? 'block' : 'none';
        document.getElementById("scienceTimeGroup").style.display = isMath ? 'none' : 'block';
        document.getElementById("mathTimeGroup").style.display = isMath ? 'block' : 'none';
        document.getElementById("mathDailyOption").style.display = isMath ? 'block' : 'none';

        const sciTuition = document.getElementById("regTuition");
        const mathTuition = document.getElementById("regMathTuition");
        if (isMath) {
            sciTuition.style.display = 'none'; mathTuition.style.display = 'block';
            updateMathOptions(); document.getElementById("regBookFee").value = "0"; 
            document.getElementById("checkDailyCalc").checked = false; toggleDailyCalc();
        } else {
            sciTuition.style.display = 'block'; mathTuition.style.display = 'none';
        }
    }

    function updateScienceInfo() {
        const className = document.getElementById("regClassSci").value;
        const scheduleSelect = document.getElementById("regScheduleSci");
        const customInput = document.getElementById("regScheduleSciCustom");
        const tuitionInput = document.getElementById("regTuition");
        const bookFeeInput = document.getElementById("regBookFee");
        scheduleSelect.innerHTML = ""; 
        if (sciClassData[className]) {
            const data = sciClassData[className];
            tuitionInput.value = data.price; bookFeeInput.value = data.book;
            data.times.forEach(time => scheduleSelect.add(new Option(time, time)));
            scheduleSelect.add(new Option("ì§ì ‘ ì…ë ¥", "custom"));
            customInput.style.display = "none";
        } else {
            tuitionInput.value = ""; bookFeeInput.value = ""; customInput.style.display = "none";
        }
    }
    document.getElementById("regScheduleSci").addEventListener("change", function() {
        document.getElementById("regScheduleSciCustom").style.display = this.value === "custom" ? "block" : "none";
    });

    function updateMathOptions() {
        const days = document.getElementById("regMathDays").value; 
        const timeSelect = document.getElementById("regMathStartTime");
        const durSelect = document.getElementById("regMathDuration");
        const dailyTotal = document.getElementById("dailyTotalCount");
        timeSelect.innerHTML = ""; durSelect.innerHTML = "";
        if (days === 'mwf') {
            ["3:00", "5:00", "7:40"].forEach(t => timeSelect.add(new Option(t, t)));
            durSelect.add(new Option("1ì‹œê°„ 50ë¶„", "110")); durSelect.add(new Option("2ì‹œê°„ 20ë¶„", "140"));
            dailyTotal.value = 12; 
        } else {
            ["3:00", "6:00"].forEach(t => timeSelect.add(new Option(t, t)));
            durSelect.add(new Option("2ì‹œê°„ 45ë¶„", "165")); durSelect.add(new Option("3ì‹œê°„ 30ë¶„", "210"));
            dailyTotal.value = 8;
        }
        calcDailyMath();
    }

    function toggleDailyCalc() {
        const isChecked = document.getElementById("checkDailyCalc").checked;
        document.getElementById("dailyCalcBox").style.display = isChecked ? "block" : "none";
        document.getElementById("monthInputGroup").style.opacity = isChecked ? "0.3" : "1";
        document.getElementById("payMonths").disabled = isChecked;
        calcDailyMath();
    }

    function calcDailyMath() {
        if (!document.getElementById("checkDailyCalc").checked) return;
        const basePrice = parseInt(document.getElementById("regMathTuition").value);
        const totalCount = parseInt(document.getElementById("dailyTotalCount").value);
        const inputCount = parseInt(document.getElementById("dailyInputCount").value) || 0;
        if (totalCount > 0 && inputCount > 0) {
            let result = (basePrice / totalCount) * inputCount;
            result = Math.round(result / 10) * 10;
            document.getElementById("dailyResultPrice").innerText = result.toLocaleString();
        } else {
            document.getElementById("dailyResultPrice").innerText = "0";
        }
    }

    function generateRegMsg() {
        const isMath = document.getElementById("subMath").checked;
        const subjectName = isMath ? "ìˆ˜í•™" : "ê³¼í•™";
        let finalClassName = "", finalSchedule = "", finalTuition = 0;
        let isDailyMath = false, dailyCount = 0;

        if (isMath) {
            finalClassName = "ì •ê·œë°˜";
            const daysStr = document.getElementById("regMathDays").value === 'mwf' ? "ì›”ìˆ˜ê¸ˆ" : "í™”ëª©";
            const startT = document.getElementById("regMathStartTime").value;
            const durMin = document.getElementById("regMathDuration").value;
            let parts = startT.split(":");
            let hour = parseInt(parts[0]); if(hour < 12) hour += 12;
            let totalMin = hour * 60 + parseInt(parts[1]) + parseInt(durMin);
            let endH = Math.floor(totalMin/60); if(endH > 12) endH -= 12;
            let endM = totalMin%60; if(endM===0) endM="00";
            finalSchedule = `${daysStr} ${startT}~${endH}:${endM}`;

            isDailyMath = document.getElementById("checkDailyCalc").checked;
            if (isDailyMath) {
                finalTuition = parseInt(document.getElementById("dailyResultPrice").innerText.replace(/,/g, '')) || 0;
                dailyCount = document.getElementById("dailyInputCount").value;
            } else {
                finalTuition = parseInt(document.getElementById("regMathTuition").value);
            }
        } else {
            finalClassName = document.getElementById("regClassSci").value;
            if (!finalClassName) { alert("ë°˜ì„ ì„ íƒí•´ì£¼ì„¸ìš”."); return; }
            finalSchedule = document.getElementById("regScheduleSci").value;
            if (finalSchedule === "custom") finalSchedule = document.getElementById("regScheduleSciCustom").value;
            finalTuition = parseInt(document.getElementById("regTuition").value) || 0;
        }

        const firstDate = document.getElementById("regFirstDate").value;
        const firstTime = document.getElementById("regFirstTime").value;
        const paymentTerm = document.getElementById("paymentTerm").value.trim();
        const months = parseInt(document.getElementById("payMonths").value) || 1;
        const bookFee = parseInt(document.getElementById("regBookFee").value) || 0;
        let totalSum = 0, priceBlock = "";

        if (isMath && isDailyMath) {
            totalSum = finalTuition + bookFee;
            priceBlock = `ì´ êµìœ¡ë¹„ : ${totalSum.toLocaleString()}ì›\n*ìƒì„¸ë‚´ì—­\nêµìœ¡ë¹„(ìˆ˜ì—…ë£Œ ${dailyCount}íšŒ) : ${finalTuition.toLocaleString()}ì›`;
        } else {
            const totalTuition = finalTuition * months;
            totalSum = totalTuition + bookFee;
            priceBlock = `ì´ êµìœ¡ë¹„ : ${totalSum.toLocaleString()}ì›\n*ìƒì„¸ë‚´ì—­\n`;
            priceBlock += months > 1 ? `êµìœ¡ë¹„(ìˆ˜ì—…ë£Œ ${months}ê°œì›”) : ${totalTuition.toLocaleString()}ì›` : `êµìœ¡ë¹„(ìˆ˜ì—…ë£Œ) : ${totalTuition.toLocaleString()}ì›`;
        }
        if (bookFee > 0) priceBlock += `\nêµì¬ë¹„ : ${bookFee.toLocaleString()}ì›`;
        let termDisplay = paymentTerm !== "" ? `[${paymentTerm}]\n` : "";

        const msg = `<í´ë¡œë²„ ${subjectName} - ${finalClassName} ë“±ë¡ì•ˆë‚´>

ìˆ˜ì—…ìš”ì¼ ë° ì‹œê°„: ${finalSchedule}
ì²« ìˆ˜ì—…ì¼: ${firstDate} ${firstTime}

${termDisplay}${priceBlock}

ì ‘ìˆ˜ í›„ 48ì‹œê°„ ë‚´ ë¯¸ë‚©ë¶€ ì‹œ ìë™ì·¨ì†Œ ë©ë‹ˆë‹¤.

<í´ë¡œë²„ ì…íšŒ ì•ˆë‚´>
ì•„ë˜ ë§í¬ë¥¼ ê¼­ í™•ì¸í•´ì£¼ì„¸ìš”
https://cafe.naver.com/songdoclover/764

<ë‹¬ë¼ì§„ í´ë¡œë²„ ì´ˆë“± ê³¼í•™ í…ŒìŠ¤íŠ¸ ë¶„ì„í‘œ>
https://cafe.naver.com/songdoclover/468

ê²°ì œëŠ” ë¶„ê¸° í˜¹ì€ ì›” ë‚©ë¶€ë¡œ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤.
1ë¶„ê¸° - 1,2,3ì›”
2ë¶„ê¸° - 4,5,6ì›”
3ë¶„ê¸° - 7,8,9ì›”
4ë¶„ê¸° - 10,11,12ì›”

ê°œì¸ì‚¬ì •ì— ì˜í•œ ê²°ì„ì€ ê°œë³„ë³´ê°• ë¶ˆê°€í•œ ì  ì–‘í•´ ë¶€íƒë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ì•„ì´ë“¤ ë“±ì›ì‹œ ê°œì¸ í•„ê¸°ë„êµ¬ì™€ í…€ë¸”ëŸ¬ë¥¼ ì¤€ë¹„í•´ì£¼ì„¸ìš”.

ì›ë‚´ì—ëŠ” í™˜ê²½ë³´í˜¸ë¥¼ ìœ„í•´ ì¢…ì´ì»µì´ ë¹„ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.

*ë°©ë¬¸ë‚©ë¶€, ê³„ì¢Œì´ì²´, ì˜¨ë¼ì¸ê²°ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

1. ë°©ë¬¸ ë‚©ë¶€ ê°€ëŠ¥ ì‹œê°„
í‰ì¼ 2ì‹œ ~ 9ì‹œ30ë¶„
í† ìš”ì¼ 9ì‹œ30ë¶„~4ì‹œ30ë¶„

2. ì‹ í•œì€í–‰ ê³„ì¢Œì´ì²´ 
ì´ì²´ì‹œ ì…ê¸ˆëª…ì€ í•™êµ+ì•„ì´ì´ë¦„ìœ¼ë¡œ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
ex. ì´ˆì€ì´ˆê¹€ì˜ìˆ˜ì‹ í•œ 
[ìˆ˜ì—…ë£Œ]
ì‹ í•œ ë²•ì¸ 140-015-126016
í´ë¡œë²„ ìˆ˜í•™ê³¼í•™ í•™ì› ì„í˜„ì •

[êµì¬ë¹„]
ì‹ í•œ 110-543-841235
ìµœì€ì˜¥(í´ë¡œë²„ë¯¸ë˜ì¸ì¬ì—°êµ¬ì†Œ)

3. í†µí†µí†µ ì•± ê²°ì œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
-í•™ì›ë²ˆí˜¸ë¡œ ë°œì†¡ë“œë¦° [í†µí†µí†µEdu íšŒì›ê°€ì… ì•ˆë‚´] ë¬¸ìë¥¼ í†µí•´ ì•±ì„ ê¹”ì•„ì£¼ì‹œë©´ ì¹´ë“œì‚¬ ìƒê´€ì—†ì´ ê²°ì œ ê°€ëŠ¥
-ì•± ì„¤ì¹˜ ë¬¸ì ì¬ë°œì†¡ì€ ì›ìœ¼ë¡œ ë¬¸ì˜ì£¼ì„¸ìš”.

-í´ë¡œë²„ í•™ì›-`;
        document.getElementById("result1").value = msg;
    }


    /* ================= TAB 2: ê²°ì„ë³´ê°• ================= */
    const elemGrades = ["ì´ˆ2", "ì´ˆ3", "ì´ˆ4", "ì´ˆ5", "ì´ˆ6"];
    const midGrades = ["ì¤‘1", "ì¤‘2", "ì¤‘3"];
    let selectedDates = [];
    let currentViewDate = new Date();

    function updateAbsGradeOptions() {
        const subject = document.querySelector('input[name="absSubject"]:checked').value;
        const gradeSelect = document.getElementById('absGrade');
        let options = '<option value="">í•™ë…„ ì„ íƒ</option>';
        let target = (subject === 'science_elem') ? elemGrades : (subject === 'science_mid' ? midGrades : [...elemGrades, ...midGrades]);
        target.forEach(g => options += `<option value="${g}">${g}</option>`);
        gradeSelect.innerHTML = options;
    }

    function toggleAbsSubject() {
        const sub = document.querySelector('input[name="absSubject"]:checked').value;
        ['sci-elem-box', 'sci-mid-box', 'math-class-box', 'sci-teacher-box', 'math-teacher-box'].forEach(id => {
            document.getElementById(id).classList.add('hidden-field');
        });
        if (sub === 'science_elem') { 
            document.getElementById('sci-elem-box').classList.remove('hidden-field'); 
            document.getElementById('sci-teacher-box').classList.remove('hidden-field'); 
        } else if (sub === 'science_mid') { 
            document.getElementById('sci-mid-box').classList.remove('hidden-field'); 
            document.getElementById('sci-teacher-box').classList.remove('hidden-field'); 
        } else { 
            document.getElementById('math-class-box').classList.remove('hidden-field'); 
            document.getElementById('math-teacher-box').classList.remove('hidden-field'); 
        }
        updateAbsGradeOptions();
    }

    function renderCalendar() {
        const year = currentViewDate.getFullYear();
        const month = currentViewDate.getMonth();
        document.getElementById('calendarTitle').innerText = `${year}ë…„ ${month + 1}ì›”`;
        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();
        const prevLastDate = new Date(year, month, 0).getDate();
        let daysHtml = '';
        for (let i = firstDay; i > 0; i--) daysHtml += `<div class="calendar-day other-month">${prevLastDate - i + 1}</div>`;
        for (let i = 1; i <= lastDate; i++) {
            const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;
            const dateObj = new Date(dateStr);
            const isSelected = selectedDates.includes(dateStr) ? 'selected' : '';
            const isToday = new Date().toISOString().split('T')[0] === dateStr ? 'today' : '';
            const isFri = dateObj.getDay() === 5 ? 'fri' : '';
            daysHtml += `<div class="calendar-day ${isSelected} ${isToday} ${isFri}" onclick="toggleDate('${dateStr}')">${i}</div>`;
        }
        document.getElementById('calendarDays').innerHTML = daysHtml;
    }

    function toggleDate(dateStr) {
        const index = selectedDates.indexOf(dateStr);
        if (index > -1) selectedDates.splice(index, 1);
        else { selectedDates.push(dateStr); selectedDates.sort(); }
        updateDateDisplay();
        renderCalendar();
    }

    function updateDateDisplay() {
        const display = document.getElementById('selectedDatesDisplay');
        if (selectedDates.length === 0) { display.innerHTML = '<span class="text-slate-400 italic">ë‹¬ë ¥ì—ì„œ ë‚ ì§œë¥¼ í´ë¦­í•˜ì„¸ìš”.</span>'; return; }
        display.innerHTML = selectedDates.map(d => `<span class="bg-indigo-100 text-indigo-700 px-2 py-1 rounded-md text-[10px] font-bold border border-indigo-200">${getAcademicWeek(d)}</span>`).join('');
    }

    function changeMonth(delta) {
        currentViewDate.setMonth(currentViewDate.getMonth() + delta);
        renderCalendar();
    }

    function getAcademicWeek(dateStr) {
        const d = new Date(dateStr);
        const m = d.getMonth() + 1;
        const day = d.getDate();
        const weekDay = ["ì¼", "ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ", "í† "][d.getDay()];
        let firstFriday = 1;
        while (new Date(d.getFullYear(), d.getMonth(), firstFriday).getDay() !== 5) firstFriday++;
        let countFridays = 0;
        for (let i = 1; i <= day; i++) if (new Date(d.getFullYear(), d.getMonth(), i).getDay() === 5) countFridays++;
        const finalWeek = (day < firstFriday) ? 1 : countFridays + (firstFriday === 1 ? 0 : 1);
        return `${m}/${day}(${weekDay}) ${finalWeek}ì£¼ì°¨`;
    }

    function generateAbsenceMsg() {
        const sub = document.querySelector('input[name="absSubject"]:checked').value;
        const name = document.getElementById('absName').value || '(ì´ë¦„)';
        const grade = document.getElementById('absGrade').value || '(í•™ë…„)';
        const reason = document.getElementById('reason').value;
        const note = document.getElementById('note').value;
        const dateList = selectedDates.map(d => getAcademicWeek(d)).join(', ');
        const finalDates = dateList || '(ë‚ ì§œ ì„ íƒ í•„ìš”)';
        const b = "â€¢";
        let message = "";
        
        if (sub.startsWith('science')) {
            const cls = (sub === 'science_elem' ? document.getElementById('sciElemClass').value : document.getElementById('sciMidClass').value) || '(ìˆ˜ì—…ë°˜ ë¯¸ì„ íƒ)';
            const t = document.getElementById('sciTeacher').value;
            message = `ê³¼í•™)\n${b} ì´ë¦„ : ${name}\n${b} í•™ë…„ : ${grade}\n${b} ìˆ˜ì—…ë°˜ : ${cls}\n${b} ë‹´ë‹¹ ì„ ìƒë‹˜ : ${t}\n${b} ê²°ì„ì¼ : ${finalDates}\n${b} ì‚¬ìœ  : ${reason}\n${b} íŠ¹ì´ì‚¬í•­ : ${note}`;
        } else {
            const sch = document.getElementById('mathSchedule').value || '(ì‹œê°„í‘œ ë¯¸ì„ íƒ)';
            const t = document.getElementById('mathTeacher').value;
            message = `ìˆ˜í•™)\n${b} ì´ë¦„ : ${name}\n${b} í•™ë…„ : ${grade}\n${b} ìˆ˜ì—… ìš”ì¼ ë° ì‹œê°„ : ${sch}\n${b} ë‹´ë‹¹ ì„ ìƒë‹˜ : ${t}\n${b} ê²°ì„ì¼ : ${finalDates}\n${b} ì‚¬ìœ  : ${reason}\n${b} íŠ¹ì´ì‚¬í•­ : ${note}`;
        }
        document.getElementById('output').innerText = message;
    }

    function copyContent() {
        const text = document.getElementById('output').innerText;
        if (text.includes('í‘œì‹œë©ë‹ˆë‹¤')) return;
        const el = document.createElement('textarea');
        el.value = text;
        document.body.appendChild(el);
        el.select();
        document.execCommand('copy');
        document.body.removeChild(el);
        alert("ë³µì‚¬ ì™„ë£Œ!");
    }

    /* ================= TAB 4: ì „ë‚  ì•ˆë‚´ ë¡œì§ ================= */
    function updatePreTimeOptions() {
        const dateVal = document.getElementById('preDate').value;
        if (!dateVal) return;

        const d = new Date(dateVal);
        const day = d.getDay(); // 0:ì¼, 1:ì›”, ..., 6:í† 
        const sub = document.querySelector('input[name="preSubject"]:checked').value;
        const select = document.getElementById('preTime');
        select.innerHTML = "";
        
        let times = [];
        
        if (sub === "ê³¼í•™") {
            if (day === 6) { // í† ìš”ì¼
                times = ["10ì‹œ", "1ì‹œ", "4ì‹œ"];
            } else { // í‰ì¼ (ì¼ìš”ì¼ í¬í•¨/ê¸°ë³¸)
                times = ["3ì‹œ", "5ì‹œ", "7ì‹œ 40ë¶„"];
            }
        } else { // ìˆ˜í•™
            if (day === 1 || day === 3 || day === 5) { // ì›”, ìˆ˜, ê¸ˆ
                times = ["3ì‹œ", "5ì‹œ", "7ì‹œ 40ë¶„"];
            } else if (day === 2 || day === 4) { // í™”, ëª©
                times = ["3ì‹œ", "6ì‹œ"];
            } else if (day === 6) { // í† ìš”ì¼
                times = ["10ì‹œ", "14ì‹œ"];
            } else {
                // ì¼ìš”ì¼ ë“± ì˜ˆì™¸
                times = ["3ì‹œ", "5ì‹œ", "6ì‹œ", "7ì‹œ 40ë¶„"]; 
            }
        }
        
        times.forEach(t => select.add(new Option(t, t)));
    }

    function generatePreMsg() {
        const dateVal = document.getElementById('preDate').value;
        if (!dateVal) { alert("ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”"); return; }
        
        const d = new Date(dateVal);
        const day = d.getDate();
        const weekDay = ["ì¼", "ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ", "í† "][d.getDay()];
        const dateStr = `${day}ì¼(${weekDay})`;

        const time = document.getElementById('preTime').value;
        const subject = document.querySelector('input[name="preSubject"]:checked').value;
        const room = document.getElementById('preRoom').value;

        const msg = `${dateStr} ${time} ${subject} ìˆ˜ì—…ì…ë‹ˆë‹¤.\ní•„ê¸°ë„êµ¬ ì§€ì°¸ í›„ 2ì¸µ ${room}ë¡œ ë³´ë‚´ì£¼ì„¸ìš”.\nê°ì‚¬í•©ë‹ˆë‹¤.`;
        document.getElementById("result4").value = msg;
    }

    function copyPreMsg() {
        const copyText = document.getElementById("result4");
        copyText.select();
        document.execCommand("copy");
        alert("ë³µì‚¬ ì™„ë£Œ!");
    }

    /* ================= ê³µí†µ: íƒ­ ì „í™˜ ================= */
    function openTab(evt, tabName) {
        var i, content, tablinks;
        content = document.getElementsByClassName("content");
        for (i = 0; i < content.length; i++) {
            content[i].style.display = "none";
            content[i].classList.remove("active");
        }
        tablinks = document.getElementsByClassName("tab-button");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        document.getElementById(tabName).classList.add("active");
        evt.currentTarget.className += " active";
    }

    // ì´ˆê¸°í™”
    window.onload = function() {
        toggleRegSubject();   
        toggleAbsSubject();   
        renderCalendar();
        
        // ì „ë‚ ì•ˆë‚´ íƒ­ ë‚ ì§œ ê¸°ë³¸ê°’ (ë‚´ì¼)
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        const yyyy = tomorrow.getFullYear();
        const mm = String(tomorrow.getMonth() + 1).padStart(2, '0');
        const dd = String(tomorrow.getDate()).padStart(2, '0');
        document.getElementById('preDate').value = `${yyyy}-${mm}-${dd}`;
        
        updatePreTimeOptions(); // ì´ˆê¸° ì‹œê°„ ì„¤ì •
    };
</script>

</body>
</html>